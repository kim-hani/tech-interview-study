# 프로세스와 스레드

---

## 1. 프로세스(Process)란?

프로세스는 **실행 중인 프로그램(Program in Execution)** 을 의미한다.  
운영체제는 프로세스를 관리하여 CPU, 메모리, 입출력 장치 등의 자원을 효율적으로 배분한다.  

### 프로세스의 특징
- 프로그램이 실행되면 운영체제로부터 **독립적인 메모리 공간**을 할당받는다.
- 하나의 프로세스는 최소 **코드(Code), 데이터(Data), 스택(Stack), 힙(Heap)** 영역을 가진다.
- 프로세스는 **PCB(Process Control Block)**라는 자료구조로 관리되며, 프로세스의 상태, 레지스터 값, 메모리 정보 등을 포함한다.

---

## 2. 스레드(Thread)란?

스레드는 프로세스 내부에서 실행되는 **실행 단위의 흐름**이다.  
하나의 프로세스는 여러 개의 스레드를 가질 수 있으며, 이들을 **멀티스레드(Multi-thread)**라 한다.  

### 스레드의 특징
- 프로세스 내 자원(코드, 데이터, 힙)을 공유한다.
- 독립적으로 스택(Stack)과 레지스터를 가진다.
- 스레드 간 문맥 교환(Context Switching)은 프로세스 간 교환보다 오버헤드가 작다.

---

## 3. 프로세스와 스레드의 차이점

| 구분 | 프로세스 | 스레드 |
|------|----------|---------|
| 정의 | 실행 중인 프로그램 | 프로세스 내 실행 흐름 |
| 메모리 | 독립된 메모리 영역 할당 (Code/Data/Stack/Heap) | Code/Data/Heap 공유, Stack만 독립 |
| 자원 공유 | 기본적으로 불가 | 같은 프로세스 내에서는 공유 가능 |
| 생성 비용 | 상대적으로 큼 | 상대적으로 작음 |
| 문맥 교환 | 비용이 큼 | 비용이 적음 |
| 안정성 | 독립성 보장 → 안정적 | 하나의 스레드 오류 시 전체 프로세스에 영향 |

---

## 4. 프로세스의 상태 (Process State)

프로세스는 실행 중에 여러 상태를 오간다.

- **생성(New)** : 프로세스가 생성되는 중
- **준비(Ready)** : 실행할 준비가 되어 CPU를 기다리는 상태
- **실행(Running)** : CPU를 점유하여 명령어를 수행하는 상태
- **대기(Waiting/Blocked)** : 입출력 완료 등 특정 이벤트를 기다리는 상태
- **종료(Terminated)** : 실행이 끝난 상태

---

## 5. 문맥 교환(Context Switching)

문맥 교환이란 CPU가 현재 실행 중인 프로세스/스레드의 상태를 저장하고, 다른 프로세스/스레드로 교체하는 것을 의미한다.  

- 프로세스 문맥 교환: PCB 단위로 교체 (비용 큼)  
- 스레드 문맥 교환: 같은 프로세스 내에서는 공유 영역이 많아 비용이 적음  

---

## 6. 멀티프로세스와 멀티스레드

- **멀티프로세스**  
  - 여러 개의 프로세스를 동시에 실행  
  - 안정성이 높으나, 프로세스 간 통신(IPC)이 복잡하고 오버헤드가 크다.  

- **멀티스레드**  
  - 하나의 프로세스 내에서 여러 스레드를 동시에 실행  
  - 자원 공유가 쉽고 성능이 좋으나, 스레드 하나의 오류가 전체 프로세스에 영향을 줄 수 있다.  

---

## 7. 정리

- 프로세스: 실행 단위 (자원 + 실행 흐름 포함)  
- 스레드: 프로세스 내 실행 흐름 단위  
- 멀티스레드는 효율적이지만 안정성 문제가 있고, 멀티프로세스는 안정적이지만 비용이 크다.  
운영체제는 이 두 가지 방식을 상황에 맞게 활용한다.

---
